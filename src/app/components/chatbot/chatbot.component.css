:root{
	--chat-width: 360px;
	--chat-max-height: 480px;
	--chat-accent: #0b79f7;
	--chat-bg: #ffffff;
	--chat-muted: #6b7280;
	--chat-shadow: 0 10px 30px rgba(2,6,23,0.15);
	--chat-radius: 12px;
}

.chatbot-container{
	position: fixed;
	right: 24px;
	bottom: 24px;
	z-index: 1100;
	font-family: system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
	display: flex;
	align-items: flex-end;
	gap: 12px;
	pointer-events: none; /* allow only children to receive events */
}

.chat-toggle{
	pointer-events: auto;
	width: 56px;
	height: 56px;
	border-radius: 999px;
	background: linear-gradient(180deg,var(--chat-accent),#0666d9);
	color: white;
	display: grid;
	place-items: center;
	box-shadow: var(--chat-shadow);
	cursor: pointer;
	transition: transform .18s ease, box-shadow .18s ease;
}
.chat-toggle:active{ transform: scale(.98); }
.chat-toggle .chat-icon, .chat-toggle .close-icon{ font-size:20px; }

.notification-badge{
	position: absolute;
	top: -6px;
	right: -6px;
	background: #ff3b30;
	color: white;
	min-width: 20px;
	height: 20px;
	padding: 0 6px;
	border-radius: 999px;
	font-size: 12px;
	display: flex;
	align-items: center;
	justify-content: center;
	box-shadow: 0 3px 8px rgba(0,0,0,0.15);
}

.chat-window{
	pointer-events: auto;
	width: var(--chat-width);
	max-width: calc(100vw - 48px);
	background: var(--chat-bg);
	border-radius: var(--chat-radius);
	box-shadow: var(--chat-shadow);
	overflow: hidden;
	display: flex;
	flex-direction: column;
	transform: translateY(12px) scale(.98);
	opacity: 0;
	transition: all .22s cubic-bezier(.2,.9,.2,1);
	max-height: var(--chat-max-height);
}
.chat-window.open{
	transform: translateY(0) scale(1);
	opacity: 1;
}

.chat-header{
	display:flex;
	align-items:center;
	justify-content:space-between;
	padding:12px 14px;
	border-bottom:1px solid #eef2f7;
	background: linear-gradient(180deg, #fbfdff, #f7fbff);
}
.header-info{ display:flex; gap:10px; align-items:center; }
.bot-avatar{ width:38px; height:38px; border-radius:8px; display:grid; place-items:center; font-size:18px; background:#eef7ff }
.bot-details h4{ margin:0; font-size:14px; color:#0f172a }
.bot-details .status{ font-size:12px; color:var(--chat-muted) }
.minimize-btn{ background:transparent; border:none; font-size:18px; cursor:pointer; color:var(--chat-muted) }

.chat-messages{
	padding:12px;
	display:flex;
	flex-direction:column;
	gap:10px;
	overflow-y:auto;
	flex:1 1 auto;
}
.message{ display:flex; align-items:flex-end; gap:8px; }
.message-avatar{ width:34px; height:34px; border-radius:8px; display:grid; place-items:center; font-size:16px }
.message-content{ display:flex; flex-direction:column; gap:6px; }
.message-bubble{ background:#f1f5f9; padding:10px 12px; border-radius:10px; color:#0f172a; max-width: 72%; word-wrap:break-word }
.message-time{ font-size:11px; color:var(--chat-muted); align-self:flex-end }

.user-message{ flex-direction:row-reverse; }
.user-message .message-bubble{ background:var(--chat-accent); color:white }

.bot-message .message-avatar{ background: #eef7ff }

.typing-indicator{ display:flex; gap:6px; align-items:center }
.typing-indicator span{ width:6px; height:6px; background: #cbd5e1; border-radius:50%; display:inline-block; animation: blink 1s infinite }
.typing-indicator span:nth-child(2){ animation-delay:.15s }
.typing-indicator span:nth-child(3){ animation-delay:.3s }
@keyframes blink{ 0%{ transform:translateY(0); opacity:.25 } 50%{ transform:translateY(-4px); opacity:1 } 100%{ transform:translateY(0); opacity:.25 } }

.chat-input{ padding:10px; border-top:1px solid #eef2f7; background: #fff }
.input-container{ display:flex; gap:8px; align-items:center }
.message-input{ flex:1; padding:10px 12px; border-radius:10px; border:1px solid #e6eef8; outline:none }
.message-input:focus{ box-shadow:0 0 0 4px rgba(11,121,247,0.06); border-color:var(--chat-accent) }
.send-btn{ background:var(--chat-accent); color:white; border:none; padding:10px 12px; border-radius:8px; cursor:pointer }
.send-btn[disabled]{ opacity:.5; cursor:not-allowed }

.quick-actions{ display:flex; gap:8px; padding:10px; border-top:1px solid #f3f6fa; background:#fafcff }
.quick-btn{ background:#f1f5f9; border:none; padding:8px 10px; border-radius:8px; cursor:pointer; font-size:13px }

/* Small screens: make chatbot full width at bottom */
@media (max-width:480px){
	.chatbot-container{ left:12px; right:12px; bottom:18px }
	.chat-window{
		width:100vw;
		border-radius:12px;
		max-width:calc(100% - 24px);
		height:70vh;
		max-height:70vh;
		min-height:320px;
		overflow: hidden;
	}
	.chat-toggle{ right:12px; }
}

/* Keep pointer-events none only on container; children remain interactive */
.chatbot-container *{ pointer-events: auto }

