<div class="app-container">
  <app-navbar></app-navbar>
  
  <!-- Welcome Message -->
  <div class="welcome-banner" *ngIf="showWelcomeMessage">
    <div class="welcome-content">
      <div class="welcome-message">
        <span class="welcome-icon">ğŸ‘‹</span>
        <span class="welcome-text">{{ getWelcomeMessage() }}</span>
      </div>
      <div class="welcome-actions">
            <div class="ui-controls">
              <div class="lang-switch">
                <button (click)="setLanguage('tr')" [class.active]="currentLang === 'tr'">TR</button>
                <button (click)="setLanguage('en')" [class.active]="currentLang === 'en'">EN</button>
              </div>
              <div class="theme-switch">
                <button (click)="toggleTheme()">{{ currentTheme === 'dark' ? 'Light' : 'Dark' }}</button>
              </div>
            </div>
        <button 
          *ngIf="isAuthenticated" 
          class="logout-btn"
          (click)="logout()"
          title="Ã‡Ä±kÄ±ÅŸ Yap">
          <span class="logout-icon">ğŸšª</span>
          Ã‡Ä±kÄ±ÅŸ Yap
        </button>
        <button 
          *ngIf="!isAuthenticated" 
          class="login-btn"
          (click)="router.navigate(['/giris'])"
          title="GiriÅŸ Yap">
          <span class="login-icon">ğŸ”‘</span>
          GiriÅŸ Yap
        </button>
        <button 
          class="dismiss-btn"
          (click)="dismissWelcome()"
          title="Kapat"
          aria-label="HoÅŸgeldin mesajÄ±nÄ± kapat">
          âœ•
        </button>
      </div>
    </div>
  </div>
  
  <main class="content">
    <router-outlet></router-outlet>
    <div style="margin:24px 0; text-align:center; font-weight:700; color:var(--accent-color); font-size:1.15rem;">
      KullanÄ±cÄ± adÄ±: <span>{{ userName$ | async }}</span>
      <span *ngIf="isAuthenticated" class="auth-status">
        â€¢ <span class="status-authenticated">GiriÅŸ YapÄ±ldÄ±</span> 
        â€¢ <span class="user-role">{{ currentUser?.role }}</span>
      </span>
    </div>
  </main>
  
  <app-footer></app-footer>
</div>

<!-- Chatbot - Global Component -->
<app-chatbot></app-chatbot>
